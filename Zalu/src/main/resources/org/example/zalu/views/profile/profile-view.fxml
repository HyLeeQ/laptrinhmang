<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<BorderPane xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="org.example.zalu.controller.profile.ProfileController"
            stylesheets="@/styles.css">
    <center>
        <ScrollPane fitToWidth="true" hbarPolicy="NEVER" vbarPolicy="AS_NEEDED" styleClass="profile-scroll">
            <VBox spacing="18" styleClass="profile-dialog" prefWidth="520">

                <StackPane styleClass="profile-cover">
                    <VBox alignment="BOTTOM_LEFT" spacing="16" styleClass="profile-cover-content">
                        <HBox spacing="18" alignment="CENTER_LEFT">
                            <StackPane styleClass="profile-avatar-frame">
                                <ImageView fx:id="avatarImageView" fitWidth="110" fitHeight="110" preserveRatio="true"/>
                                <Button text="ðŸ“·" onAction="#chooseAvatar" styleClass="profile-avatar-btn"
                                        StackPane.alignment="BOTTOM_RIGHT"/>
                            </StackPane>
                            <VBox spacing="6">
                                <Label fx:id="usernameLabel" text="TÃªn hiá»ƒn thá»‹" styleClass="profile-name"/>
                                <Label fx:id="emailLabel" text="email@example.com" styleClass="profile-email"/>
                            </VBox>
                        </HBox>
                    </VBox>
                </StackPane>

                <VBox spacing="18" styleClass="profile-section">
                    <Label text="ThÃ´ng tin cÃ¡ nhÃ¢n" styleClass="section-heading"/>
                    <GridPane hgap="18" vgap="14">
                        <columnConstraints>
                            <ColumnConstraints halignment="RIGHT" prefWidth="140"/>
                            <ColumnConstraints hgrow="ALWAYS"/>
                        </columnConstraints>

                        <Label text="Há» vÃ  tÃªn" GridPane.rowIndex="0" GridPane.columnIndex="0" styleClass="field-label"/>
                        <TextField fx:id="fullNameField" promptText="Nháº­p há» vÃ  tÃªn"
                                   GridPane.rowIndex="0" GridPane.columnIndex="1" styleClass="form-field"/>

                        <Label text="Giá»›i tÃ­nh" GridPane.rowIndex="1" GridPane.columnIndex="0" styleClass="field-label"/>
                        <HBox spacing="12" GridPane.rowIndex="1" GridPane.columnIndex="1">
                            <RadioButton fx:id="maleRadio" text="Nam"/>
                            <RadioButton fx:id="femaleRadio" text="Ná»¯"/>
                            <RadioButton fx:id="otherRadio" text="KhÃ¡c"/>
                        </HBox>

                        <Label text="NgÃ y sinh" GridPane.rowIndex="2" GridPane.columnIndex="0" styleClass="field-label"/>
                        <DatePicker fx:id="birthdatePicker" GridPane.rowIndex="2" GridPane.columnIndex="1" styleClass="form-field"/>

                        <Label text="Äiá»‡n thoáº¡i" GridPane.rowIndex="3" GridPane.columnIndex="0" styleClass="field-label"/>
                        <TextField fx:id="phoneField" promptText="Nháº­p sá»‘ Ä‘iá»‡n thoáº¡i"
                                   GridPane.rowIndex="3" GridPane.columnIndex="1" styleClass="form-field"/>

                        <Label text="MÃ´ táº£" GridPane.rowIndex="4" GridPane.columnIndex="0" GridPane.valignment="TOP" styleClass="field-label"/>
                        <TextArea fx:id="bioField" prefRowCount="3" wrapText="true"
                                  GridPane.rowIndex="4" GridPane.columnIndex="1" styleClass="form-field"/>
                    </GridPane>
                </VBox>

                <VBox spacing="12" styleClass="profile-section">
                    <Label text="Báº£o máº­t" styleClass="section-heading"/>
                    <HBox spacing="10">
                        <Button fx:id="changePasswordButton" text="Äá»•i máº­t kháº©u" onAction="#changePassword"/>
                        <PasswordField fx:id="newPasswordField" promptText="Máº­t kháº©u má»›i" visible="false" managed="false"/>
                    </HBox>
                </VBox>

                <Label fx:id="statusLabel" text="" styleClass="profile-status"/>

                <HBox alignment="CENTER_RIGHT" spacing="12">
                    <Button text="ðŸ‘ Xem há»“ sÆ¡" onAction="#viewBio" styleClass="ghost-btn"/>
                    <Region HBox.hgrow="ALWAYS"/>
                    <Button text="LÆ°u thay Ä‘á»•i" onAction="#saveProfile" styleClass="primary-btn"/>
                </HBox>
            </VBox>
        </ScrollPane>
    </center>
</BorderPane>