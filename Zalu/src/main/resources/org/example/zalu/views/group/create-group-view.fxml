<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ListView?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Priority?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>

<StackPane xmlns="http://javafx.com/javafx/21"
           xmlns:fx="http://javafx.com/fxml/1"
           fx:controller="org.example.zalu.controller.group.CreateGroupController"
           stylesheets="@/styles.css"
           styleClass="friend-requests-root">
    <children>
        <VBox spacing="16" styleClass="friend-shell" prefWidth="480" prefHeight="600" maxHeight="650">
            <padding>
                <Insets top="20" right="24" bottom="20" left="24"/>
            </padding>
            
            <!-- Header Section -->
            <VBox spacing="4" styleClass="friend-header">
                <Label text="Tạo nhóm" styleClass="friend-title" style="-fx-font-size: 18px;"/>
                <Label text="Đặt tên nhóm và chọn bạn bè để bắt đầu cuộc trò chuyện mới."
                       wrapText="true" styleClass="friend-subtitle" style="-fx-font-size: 13px;"/>
            </VBox>

            <!-- Group Name Field -->
            <VBox spacing="6" styleClass="request-section">
                <Label text="Tên nhóm" styleClass="field-label" style="-fx-font-size: 13px;"/>
                <TextField fx:id="groupNameField" promptText="Nhập tên nhóm..."
                           styleClass="form-field" prefHeight="36"/>
            </VBox>

            <!-- Friends List with ScrollPane -->
            <VBox spacing="6" VBox.vgrow="ALWAYS" styleClass="request-section">
                <Label text="Chọn bạn bè" styleClass="field-label" style="-fx-font-size: 13px;"/>
                <ScrollPane fitToWidth="true" VBox.vgrow="ALWAYS" 
                           styleClass="friend-list-scroll" 
                           minHeight="280" 
                           prefHeight="320"
                           hbarPolicy="NEVER"
                           vbarPolicy="AS_NEEDED">
                    <ListView fx:id="friendsListView" styleClass="request-list"/>
                </ScrollPane>
            </VBox>

            <!-- Footer Actions -->
            <HBox spacing="10" styleClass="footer-actions" alignment="CENTER_RIGHT">
                <Button text="Huỷ" onAction="#closeDialog" styleClass="back-btn" 
                        prefWidth="80" prefHeight="36"/>
                <Button text="Tạo nhóm" onAction="#confirmCreateGroup" styleClass="primary-btn" 
                        prefWidth="100" prefHeight="36"/>
            </HBox>
        </VBox>
    </children>
</StackPane>
